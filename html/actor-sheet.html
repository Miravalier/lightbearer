<form class="{{cssClass}}" autocomplete="off">

    {{!-- Sheet Header --}}
    <header class="lightbearer sheet-header">
        <div class="row">
            <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}"/>
            <h1 class="charname">
                <input name="name" type="text" value="{{actor.name}}" placeholder="Name"/>
            </h1>
        </div>
    </header>

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="stats">Stats</a>
        <a class="item" data-tab="abilities">Abilities</a>
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">
        {{!-- Abilities Tab --}}
        <div class="tab" data-group="primary" data-tab="abilities">
            <div class="row">
                <div class="row">
                    <div class="caption label">HP</div>
                    <span class="value">{{data.health.value}}</span>
                    <span>/</span>
                    <span class="value">{{data.health.max}}</span>
                </div>

                <div class="divider"></div>

                <div class="row">
                    <div class="caption label">Mana</div>
                    <span class="value">{{data.mana.value}}</span>
                    <span>/</span>
                    <span class="value">{{data.mana.max}}</span>
                </div>

                <div class="divider"></div>

                <a class="new-ability label" title="New Ability">
                    <span>Add Ability</span>
                    <i class="fas fa-plus"></i>
                </a>
            </div>

            <div class="abilities column">
            {{#each abilities as |ability id|}}
                <div class="ability" data-item-id="{{ability._id}}">
                    {{#ifeq ability.data.actionCost "action"}}
                        <i class="icon fas fa-circle"></i>
                    {{/ifeq}}
                    {{#ifeq ability.data.actionCost "reaction"}}
                        <i class="icon fas fa-exclamation-circle"></i>
                    {{/ifeq}}
                    {{#if ability.data.manaCost}}
                        <div class="icon">
                            <span>{{ability.data.manaCost}}</span>
                            <i class="fas fa-bolt"></i>
                        </div>
                    {{/if}}
                    <a class="name">{{ability.name}}</a>
                    <a class="control show" title="Show Ability">
                        <i class="fas fa-comment-dots"></i>
                    </a>
                    <a class="control edit" title="Edit Ability">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a class="control delete" title="Delete Ability">
                        <i class="fas fa-trash"></i>
                    </a>
                </div>
            {{/each}}
            </div>
        </div>

        {{!-- Stats Tab --}}
        <div class="tab" data-group="primary" data-tab="stats">
            <div class="column">
                <div class="row">
                    <div class="row">
                        <div class="caption label">HP</div>
                        <input class="value" type="number"
                            name="data.health.value"
                            value="{{data.health.value}}"/>
                        <span>/</span>
                        <input class="value" type="number"
                            name="data.health.max"
                            value="{{data.health.max}}"/>
                    </div>

                    <div class="divider"></div>

                    <div class="row">
                        <div class="caption label">Mana</div>
                        <input class="value" type="number"
                            name="data.mana.value"
                            value="{{data.mana.value}}"/>
                        <span>/</span>
                        <input class="value" type="number"
                            name="data.mana.max"
                            value="{{data.mana.max}}"/>
                    </div>
                </div>

                <div class="divider"></div>

                <div class="row">
                    <div class="caption">Attributes</div>
                    {{#ifgt statTotal 80}}
                        <span class="value red">{{statTotal}}</span>
                    {{else}}
                        <span class="value">{{statTotal}}</span>
                    {{/ifgt}}
                </div>

                <div class="row">
                    <div class="column">
                        <div class="attribute" data-key="physique" data-label="Physique">
                            <a class="roll-stat" title="Roll Physique">
                                <i class="fas fa-dice-d20"></i>
                            </a>
                            <div class="label caption">Physique</div>
                            <span class="value">{{physique}}</span>
                        </div>

                        <div class="group">
                            <div class="attribute" data-key="agility" data-label="Agility">
                                <a class="roll-stat" title="Roll Agility">
                                    <i class="fas fa-dice-d20"></i>
                                </a>
                                <div class="label">Agility</div>
                                <input class="value" type="number"
                                    name="data.stats.agility"
                                    value="{{data.stats.agility}}"/>
                            </div>

                            <div class="attribute" data-key="endurance" data-label="Endurance">
                                <a class="roll-stat" title="Roll Endurance">
                                    <i class="fas fa-dice-d20"></i>
                                </a>
                                <div class="label">Endurance</div>
                                <input class="value" type="number"
                                    name="data.stats.endurance"
                                    value="{{data.stats.endurance}}"/>
                            </div>

                            <div class="attribute" data-key="power" data-label="Power">
                                <a class="roll-stat" title="Roll Power">
                                    <i class="fas fa-dice-d20"></i>
                                </a>
                                <div class="label">Power</div>
                                <input class="value" type="number"
                                    name="data.stats.power"
                                    value="{{data.stats.power}}"/>
                            </div>
                        </div>
                    </div>

                    <div class="column">
                        <div class="attribute" data-key="cunning" data-label="Cunning">
                            <a class="roll-stat" title="Roll Cunning">
                                <i class="fas fa-dice-d20"></i>
                            </a>
                            <div class="label caption">Cunning</div>
                            <span class="value">{{cunning}}</span>
                        </div>

                        <div class="group">
                            <div class="attribute" data-key="charisma" data-label="Charisma">
                                <a class="roll-stat" title="Roll Charisma">
                                    <i class="fas fa-dice-d20"></i>
                                </a>
                                <div class="label">Charisma</div>
                                <input class="value" type="number"
                                    name="data.stats.charisma"
                                    value="{{data.stats.charisma}}"/>
                            </div>

                            <div class="attribute" data-key="memory" data-label="Memory">
                                <a class="roll-stat" title="Roll Memory">
                                    <i class="fas fa-dice-d20"></i>
                                </a>
                                <div class="label">Memory</div>
                                <input class="value" type="number"
                                    name="data.stats.memory"
                                    value="{{data.stats.memory}}"/>
                            </div>

                            <div class="attribute" data-key="perception" data-label="Perception">
                                <a class="roll-stat" title="Roll Perception">
                                    <i class="fas fa-dice-d20"></i>
                                </a>
                                <div class="label">Perception</div>
                                <input class="value" type="number"
                                    name="data.stats.perception"
                                    value="{{data.stats.perception}}"/>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="divider"></div>

                <div class="row">
                    <div class="caption">Skills</div>
                    {{#ifgt skillTotal 6}}
                        <span class="value red">{{skillTotal}}</span>
                    {{else}}
                        <span class="value">{{skillTotal}}</span>
                    {{/ifgt}}
                </div>
                <div class="column">
                    {{#each actor.data.skills as |skill key|}}
                        <div class="skill" data-key="{{key}}"
                        data-label="{{label}}" data-stat="{{stat}}">
                            <a class="roll-skill" title="Roll {{label}}">
                                <i class="fas fa-dice-d20"></i>
                            </a>
                            <div class="label">{{label}}</div>
                            <select name="data.skills.{{key}}.level">
                            {{#select skill.level}}
                                <option value="Untrained">Untrained</option>
                                <option value="Novice">Novice</option>
                                <option value="Skilled">Skilled</option>
                                <option value="Expert">Expert</option>
                                <option value="Master">Master</option>
                                <option value="Legend">Legend</option>
                            {{/select}}
                            </select>
                        </div>
                    {{/each}}
                </div>

                <div class="divider"></div>

                <div class="caption">Misc</div>
                <div class="row">
                    <div class="label">Category</div>
                    <select name="data.category">
                    {{#select data.category}}
                        <option value="unique">Unique</option>
                        <option value="generic">Generic</option>
                    {{/select}}
                    </select>
                </div>
            </div>
        </div>
    </section>
</form>

